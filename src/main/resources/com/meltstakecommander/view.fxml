<?xml version="1.0" encoding="UTF-8"?>


<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<VBox alignment="TOP_CENTER" spacing="12.0" stylesheets="@style.css" xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.meltstakecommander.Controller" fx:id="Main">
    <padding>
        <Insets bottom="5.0" left="20.0" right="20.0" top="1.0"/>
    </padding>

    <HBox alignment="CENTER" spacing="15">

        <Pane HBox.hgrow="ALWAYS" maxWidth="150"/>

        <VBox alignment="BOTTOM_CENTER" spacing="10">
            <Text text="00:00" fx:id="timer"/>
            <Button text="AUTO RELEASE RESET" onAction="#onARRestButtonClick"/>
        </VBox>

        <Pane HBox.hgrow="ALWAYS" maxWidth="150"/>

        <ImageView fitHeight="100" fitWidth="500">
            <Image url="@meltstake.png"/>
        </ImageView>

        <Pane HBox.hgrow="ALWAYS"/>

        <HBox alignment="CENTER">
            <ToggleButton text="Auto Release ON" selected="true" onAction="#onToggleRelease" fx:id="autoReleaseButton"/>
        </HBox>

        <Pane HBox.hgrow="ALWAYS"/>

    </HBox>


    <HBox alignment="CENTER" spacing="10">
        <Button fx:id="connectionButton" text="Not Connected (click to connect)" onAction="#onConnectButtonClick"/>
        <Button fx:id="configButton" text="Settings" onAction="#openSettings"/>
    </HBox>

    <GridPane hgap="50" vgap="50">

        <padding>
            <Insets top="30.0"/>
        </padding>

        <VBox spacing="20" GridPane.columnIndex="0" GridPane.rowIndex="0">
            <Text text="MANUAL COMMAND" styleClass="CommandButton"/>
            <HBox alignment="CENTER_LEFT" spacing="5">
                <TextArea maxHeight="30" maxWidth="300" fx:id="custom"/>
                <Button text="Send" onAction="#onCustomSendButtonClick" minWidth="50"/>
            </HBox>

            <TextArea editable="false" maxWidth="300" maxHeight="450" minHeight="300" fx:id="messages" />
        </VBox>


        <VBox GridPane.columnIndex="1" GridPane.rowIndex="0" spacing="20">
            <VBox spacing="5">
                <Button text="STOP" styleClass="CommandButton" onAction="#onSendOffButtonClick"/>
                <Text wrappingWidth="250" text="Will stop any command being ran on the meltstake and set motors to zero"/>
            </VBox>

            <VBox spacing="5">
                <Button text="RELEASE" styleClass="release" onAction="#onSendReleaseButtonClick"/>
                <Text text="Reverse all motors"/>
            </VBox>

            <VBox spacing="10">
                <Button text="DRILL" styleClass="CommandButton" onAction="#onSendDrillButtonClick"/>

                <HBox alignment="CENTER_LEFT" spacing="7">
                    <Text text="Number of turns: L"/>
                    <TextField fx:id="rightTurns" maxWidth="50" text="0"/>
                    <Text text="R"/>
                    <TextField fx:id="leftTurns" maxWidth="50" text="0"/>

                </HBox>
            </VBox>

            <VBox spacing="10">
                <Button text="AUTO" styleClass="CommandButton"  onAction="#onSendAutoButtonClick"/>
                <Text text="Sets autonomous deployment configuration"/>

                <HBox>
                    <Text text="Rotations per drill:    " />
                    <TextField text="0" maxHeight="50" maxWidth="50" fx:id="rpdField"/>
                </HBox>

                <HBox>
                    <Text text="Time between drills: "/>
                    <TextField text="0" maxHeight="50" maxWidth="50" fx:id="tbdField"/>
                </HBox>

                <HBox>
                    <Text text="Deployment Time:    "/>
                    <TextField text="0" maxHeight="50" maxWidth="50" fx:id="dtField"/>
                </HBox>
            </VBox>

        </VBox>

        <VBox GridPane.columnIndex="2" GridPane.rowIndex="0" spacing="20">
            <VBox spacing="5">
                <Button text="RESET ROT" styleClass="CommandButton" onAction="#onSendResetRotButtonClick"/>
                <Text text="Sets ROT to 0 | 0"/>
            </VBox>
            <VBox spacing="5">
                <Button text="SET LIGHTS" styleClass="CommandButton" onAction="#onSendLightButtonClick"/>
                <Slider fx:id="lightSlider" snapToTicks="true" showTickMarks="true" showTickLabels="true" minorTickCount="10"/>
            </VBox>
            <VBox spacing="5">
                <Button text="SET SPEED" styleClass="CommandButton" onAction="#onSendSpeedButtonClick"/>
                <Slider fx:id="speedSlider" value="0.6" snapToTicks="true" showTickMarks="true" showTickLabels="true" max="1" blockIncrement="0.1" majorTickUnit="0.25"/>
            </VBox>
            <VBox spacing="5">
                <Button text="TARE LS" styleClass="CommandButton" onAction="#onSendTareButtonClick"/>
                <HBox alignment="CENTER_LEFT">
                    <Text text="Tare magnetic field reading"/>
                </HBox>
            </VBox>
            <VBox spacing="5">
                <Button text="SET LS THRESHOLD" styleClass="CommandButton" onAction="#onSendLSThreshClick"/>
                <HBox alignment="CENTER_LEFT">
                    <Text text="Set: "/>
                    <TextField fx:id="lsThreshInput" maxWidth="50" text="0"/>
                </HBox>
            </VBox>


        </VBox>


        <VBox GridPane.columnIndex="3" GridPane.rowIndex="0" spacing="25">
            <VBox spacing="5">
                <Button text="SET CURRENT LIMIT" styleClass="CommandButton" onAction="#onSendCurrentLimitClick"/>
                <HBox alignment="CENTER_LEFT">
                    <Text text="Set: "/>
                    <TextField fx:id="currentInput" maxWidth="50" text="0"/>
                </HBox>
            </VBox>
            <VBox spacing="5">
                <Button text="GET VALUE" styleClass="CommandButton" onAction="#onSendGetDataButtonClick"/>
                <HBox alignment="CENTER_LEFT">
                    <Text text="Data: "/>
                    <ComboBox fx:id="dataSelector"/>
                </HBox>

            </VBox>

            <VBox spacing="5">
                <Text text="Meltstake Data" textAlignment="CENTER" wrappingWidth="350" styleClass="CommandButton"/>
                <HBox spacing="5">
                    <Text wrappingWidth="200" text="NULL" fx:id="dataDisplay1"/>
                    <Text wrappingWidth="200" text="NULL" fx:id="dataDisplay2"/>
                </HBox>


            </VBox>

        </VBox>


    </GridPane>
</VBox>

